  function f_TrataLista(data,CountryName)
  {	 	 	 	  
    
    
	var myList = new Array();
	  
 
	 console.log("era igual?");
	 console.log(CountryName);
	if (CountryName == "Ireland")  {
	 console.log("Sim");
//INICIO AUTOMATICOS IRELAND    
   
   	 myList.push(JSON.parse('{"location":"Ireland","date":"2021-03-29","vaccine":"","source_url":"","total_vaccinations":"819676","people_vaccinated":"590688","people_fully_vaccinated":"228988"}'));
	 
	 myList.push(JSON.parse('{"location":"Ireland","date":"2021-03-30","vaccine":"","source_url":"","total_vaccinations":"840561","people_vaccinated":"603802","people_fully_vaccinated":"236759"}'));
	  
     myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-03","vaccine":"","source_url":"","total_vaccinations":"932324","people_vaccinated":"660800","people_fully_vaccinated":"271524"}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-06","vaccine":"","source_url":"","total_vaccinations":961887,"people_vaccinated":679844,"people_fully_vaccinated":282043}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-07","vaccine":"","source_url":"","total_vaccinations":1018264,"people_vaccinated":716636,"people_fully_vaccinated":301628}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-09","vaccine":"","source_url":"","total_vaccinations":1045919,"people_vaccinated":735997,"people_fully_vaccinated":309922}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-10","vaccine":"","source_url":"","total_vaccinations":1058394,"people_vaccinated":745363,"people_fully_vaccinated":313031}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-11","vaccine":"","source_url":"","total_vaccinations":1063666,"people_vaccinated":749450,"people_fully_vaccinated":314216}'));	 
	  

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-13","vaccine":"","source_url":"","total_vaccinations":1094964,"people_vaccinated":769721,"people_fully_vaccinated":325243}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-14","vaccine":"","source_url":"","total_vaccinations":1121003,"people_vaccinated":789526,"people_fully_vaccinated":331477}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-15","vaccine":"","source_url":"","total_vaccinations":1155599,"people_vaccinated":814470,"people_fully_vaccinated":341129}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-16","vaccine":"","source_url":"","total_vaccinations":1188354,"people_vaccinated":838644,"people_fully_vaccinated":349710}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-17","vaccine":"","source_url":"","total_vaccinations":1204063,"people_vaccinated":852189,"people_fully_vaccinated":351874}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-18","vaccine":"","source_url":"","total_vaccinations":1208459,"people_vaccinated":855512,"people_fully_vaccinated":352947}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-19","vaccine":"","source_url":"","total_vaccinations":1219487,"people_vaccinated":863958,"people_fully_vaccinated":355529}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-23","vaccine":"","source_url":"","total_vaccinations":1359921,"people_vaccinated":966611,"people_fully_vaccinated":393310}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-25","vaccine":"","source_url":"","total_vaccinations":1398061,"people_vaccinated":998134,"people_fully_vaccinated":399927}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-26","vaccine":"","source_url":"","total_vaccinations":1417942,"people_vaccinated":1014640,"people_fully_vaccinated":403302}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-27","vaccine":"","source_url":"","total_vaccinations":1452434,"people_vaccinated":1041284,"people_fully_vaccinated":411150}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-28","vaccine":"","source_url":"","total_vaccinations":1487043,"people_vaccinated":1067378,"people_fully_vaccinated":419665}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-29","vaccine":"","source_url":"","total_vaccinations":1527844,"people_vaccinated":1097742,"people_fully_vaccinated":430102}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-04-30","vaccine":"","source_url":"","total_vaccinations":1572779,"people_vaccinated":1130958,"people_fully_vaccinated":441821}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-01","vaccine":"","source_url":"","total_vaccinations":1591888,"people_vaccinated":1146562,"people_fully_vaccinated":445326}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-02","vaccine":"","source_url":"","total_vaccinations":1604644,"people_vaccinated":1159083,"people_fully_vaccinated":445561}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-03","vaccine":"","source_url":"","total_vaccinations":1621870,"people_vaccinated":1174292,"people_fully_vaccinated":447578}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-05","vaccine":"","source_url":"","total_vaccinations":1700538,"people_vaccinated":1233067,"people_fully_vaccinated":467471}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-06","vaccine":"","source_url":"","total_vaccinations":1746912,"people_vaccinated":1267167,"people_fully_vaccinated":479745}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-07","vaccine":"","source_url":"","total_vaccinations":1799190,"people_vaccinated":1305178,"people_fully_vaccinated":494012}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-08","vaccine":"","source_url":"","total_vaccinations":1827610,"people_vaccinated":1327821,"people_fully_vaccinated":499789}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-09","vaccine":"","source_url":"","total_vaccinations":1848747,"people_vaccinated":1347561,"people_fully_vaccinated":501186}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-10","vaccine":"","source_url":"","total_vaccinations":1882635,"people_vaccinated":1376583,"people_fully_vaccinated":506052}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-05-11","vaccine":"","source_url":"","total_vaccinations":1922913,"people_vaccinated":1408105,"people_fully_vaccinated":514808}'));	 
 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-07-04","vaccine":"","source_url":"","total_vaccinations":0,"people_vaccinated":0,"people_fully_vaccinated":0,"REMOVER":"NAO"}'));	 
 
 myList.push(JSON.parse('{"location":"Ireland","date":"2021-07-05","vaccine":"","source_url":"","total_vaccinations":4423158,"people_vaccinated":2599957,"people_fully_vaccinated":1823201,"MelhorQueAtual":"NAO"}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-07-06","vaccine":"","source_url":"","total_vaccinations":4486999,"people_vaccinated":2613558,"people_fully_vaccinated":1873441,"MelhorQueAtual":"NAO"}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-07-07","vaccine":"","source_url":"","total_vaccinations":4555032,"people_vaccinated":2634270,"people_fully_vaccinated":1920762}'));	 

 myList.push(JSON.parse('{"location":"Ireland","date":"2021-07-08","vaccine":"","source_url":"","total_vaccinations":4619820,"people_vaccinated":2652657,"people_fully_vaccinated":1967163}'));	 
//FIM AUTOMATICOS	  	 

	 
	}
	else {console.log("Nao");}
	 
	 //starting 	 
	  var objeto =  JSON.parse(data);	 	 	 	 				 			
	 
	  myList.forEach( (element) => {
		 
		 var found = false;
         for(var i = 0; i < objeto.length; i++) {
             if (objeto[i].date == element.date) {
                 found = true;
                 break;
             }
         }
		 
		 if (found)
		 {
			 console.log(element.MelhorQueAtual);
			 if (element.MelhorQueAtual == "SIM")
			 {
				 console.log("Ficar com o dia :" + element.date + " do Manual " );
				 objeto.splice(i, 1);
				 objeto.push(element);
			 }
			 
			  if (element.REMOVER == "SIM")
			 {
				 console.log("Remover o dia :" + element.date + " do Manual " );
				 objeto.splice(i, 1);

			 }
			 
			 
			 console.log("MANUAL , POREM JA VEIO NO AUTOMATICO " + element.date);
		 }
		 else 
		 {
			 console.log("ADICIONADO MANUALMENTE : " + element.date);
			 objeto.push(element);
		 }
		 
		 
	 });
	 
    
	 var listaFinalParcial = objeto.sort((a, b) => a.date.toLocaleString().localeCompare(b.date));//.slice(-3);
	 
	 
	 var ListaSemLacunas = f_preenche_lacunas(listaFinalParcial);//.slice(-3)
	 
	 var listaJunta = listaFinalParcial.concat(ListaSemLacunas);
	 
	 
	 var listaFinal = listaJunta.sort((a, b) => a.date.toLocaleString().localeCompare(b.date));
	 	 
	 
	 
 if (true)  //Param to auto calculate People FULLY Vacinated
	 {
		   listaFinal.forEach( (element) => {
			   
		   
			   var value2 = element.total_vaccinations - element.people_vaccinated;
			   
			   if (element.people_vaccinated == 0){ value2 = 0 };
			   
			   
			   if (value2 != element.people_fully_vaccinated) 
			   {
				   
				                  				  
     				element.people_fully_vaccinated = value2.toString();
					
					  
			   }
			   else 
			   {
				   
			   }
			   
			   
			   
			   			   
		   });	
	 }	 
	 
	 console.log(listaFinal);
	 


	 return JSON.stringify(listaFinal);
	 
  }
  
  function pushArray(arr, arr2) {
    arr.push.apply(arr, arr2);
}
  
function f_preenche_lacunas(obj)   
{
	
	var myList = new Array();
	
	


	
	var totalItems = Math.max(obj.length);
	

	
	var ObjDataInicial = obj[totalItems-1];
	
	for (i = totalItems-1; i >= 0; i--) 
	{		        	
		var ObjAtual = obj[i];
		
	    var DataDiffDias = DayDiff(new Date(ObjAtual.date),new Date(ObjDataInicial.date)) -1 ; 
		


		
		

		
		if (DataDiffDias > 0) 
		{

			


			

			
			var QuantidadeVacinadaNessesDias1 = ObjDataInicial.total_vaccinations - ObjAtual.total_vaccinations;
			var QuantidadeDia1 = QuantidadeVacinadaNessesDias1 / (DataDiffDias+1);
			
			
			var QuantidadeVacinadaNessesDias2 = ObjDataInicial.people_vaccinated - ObjAtual.people_vaccinated;			
			var QuantidadeDia2 = QuantidadeVacinadaNessesDias2 / (DataDiffDias+1);
			

			
			

			
			var total1Antigo = parseFloat(ObjAtual.total_vaccinations);
			var total2Antigo = parseFloat(ObjAtual.people_vaccinated);			
			
			for (x = 0; x < DataDiffDias; x++) 
        	{		        	

				
				var DataNova = addDays(ObjAtual.date,x+1);
				

				
				var newobj =  JSON.parse('{"location":"","date":"","vaccine":"","source_url":"AutoGenerated","total_vaccinations":0,"people_vaccinated":0,"people_fully_vaccinated":0}');
				
				newobj.location = ObjAtual.location;
				newobj.date = F_DataParaString(DataNova);
				
				newobj.total_vaccinations = total1Antigo + QuantidadeDia1;				
				total1Antigo = total1Antigo + QuantidadeDia1;
				
				newobj.people_vaccinated = total2Antigo + QuantidadeDia2;				
				total2Antigo = total2Antigo + QuantidadeDia2;				
				


								
								
								
				myList.push(newobj);	 
				
		 
            }
			
			
			ObjDataInicial = ObjAtual;
			
		}
		else 
		{
					
	        ObjDataInicial = ObjAtual;

		}
		
	
		
		
		
	}
	
		


return myList;
	
	
}



function F_DataParaString(dataRecebida){


	//yyyy-mm-dd
	var finalr = dataRecebida.getFullYear() + "-" + ("0" + (dataRecebida.getMonth() + 1)).slice(-2) +"-" +("0" + (dataRecebida.getDate() )).slice(-2);


	
	return finalr;
	
	
	
	
}