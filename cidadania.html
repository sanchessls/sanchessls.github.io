 
<!DOCTYPE HTML> 
<html> 

<head> 
    <title> Cidadania </title>     
    <script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"> </script> 
	<script src= "Cidadania.js"> </script> 
	<script src= "CurrentProcessingDays.js"></script>
	<link rel="stylesheet" href="base.css">
	<style type="text/css">

	.content{
      width: 100%;
}

.contianer{
       max-width: none; 
}
    </style>
</head> 

<body> 

<div class="topnav">
  <a href="finances.html">Financias</a>
  <a class="active" href="cidadania.html">Cidadania</a>    
  <a href="index.html">Corona Data</a>  
</div>

<div id="test2"></div>

<div id="test"></div>

<div id="test3"></div>




<script> 	

	  var datainciial = new Date(2021,5,2,0,0,0);
      var toShow = Object(""); 	   
	  toShow.valueOf = "a";
	  var dataFinal = f_calcula_data(toShow);
	  
	  console.log("final");
	  console.log(dataFinal);
	  
	  getCurrentProcessingDate((resulting) => {
	  
	  console.log("andre Sanches 001");
	  
	  console.log(resulting);
	  
	  console.log("andre Sanches 002");
	  
	  });
	  
	  


     setInterval(function(){ 
	 
	 atualiza();
	 
	 }, 300);

    function atualiza(){
	
	
	  var w = $(window).width();
	  const mytable = document.querySelector("#test");			
	  P_ATUALIZA(mytable,w-30,500,500,null,null," Cidadania 5 Anos Stamp 1");
	  
	  
	  
	  const mytable2 = document.querySelector("#test2");			
	  P_ATUALIZA(mytable2,w-30,500,500,datainciial,dataFinal,"<br> Data Estimada Final :  " + dataFinal.toLocaleString() + " <br>  Analyzing today: " + toShow.valueOf);
	
	
	
	  	  
	  const mytable3 = document.querySelector("#test3");			
	  P_ATUALIZA(mytable3,w-30,500,500,dataFinal,addDays(dataFinal,365*2),"Stamp 4");
	  
	
	
	}


	 function f_calcula_data(objtexto)
	 {
	    //
		
		 
		
	    
	    var p1 = new Date(2021,4,24,0,0,0);//24 May 2021;
	
		var p2 =  new Date(2021,3,12,0,0,0);//12 April 2021;
		
		
		var JaPassou = DayDiff(p1,new Date()).toFixed(); 
		
					
		var DiasQueFaltamProMeu = DayDiff(p2,new Date()) ;  										
		
		
		
		
		var DiasReaisApartirDeHoje = (DiasQueFaltamProMeu - JaPassou);
		
		
		
		var retorno = addDays(new Date(),DiasReaisApartirDeHoje);
		
		
		console.log(JaPassou);
		objtexto.valueOf = addDays(p2,JaPassou).toLocaleString(); // supostamente ta olhando hoje do dia:
		
		retorno.setHours(00, 00, 00);
		
		return retorno;
		
		
	 
	 }
	 
	 function addDays(date, days) {
  var result = new Date(date);
  
  console.log("Data Antes");
  console.log(result);
  
  console.log("Vai add dias :");
  console.log(days);
  
  result.setDate(result.getDate() + parseFloat(days));
  
  
  console.log("Data Depois");
  console.log(result);
    
  
  
  return result;
}

 
</script> 
</body> 

</html> 

